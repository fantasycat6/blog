# 风险评估概念

## 1、风险评估概念

### 风险的起源

"风险”一词的由来普遍的一种说法是,在远古时期，以打鱼捕捞为生的渔民们，每次出海前都要祈祷,祈求神灵保佑自己能够平安归来,其中主要的祈祷内容就是，最为让神灵保佑自己在出海时能够风平浪静、满载而归;

他们在长期的捕捞实践中，深深的体会到“风”给他们带来的无法预测无法确定的危险,他们认识到，在出海捕捞打鱼的生活中，“风” 即意味着“险” ，因此有了“风险”- -词的由来。

### 风险的定义

通俗地讲，风险就是发生不幸事件的概率。换句话说，风险是指一个事件产生我们所**不希望的后果**的可能性。某一特定危险情况发生的可能性和后果的组合。

从广义上讲，只要某-事件的发生存在着两种或两种以 上的可能性,那么就认为该事件存在着风险。而在保险理论与实务中，风险仅指损失的不确定性。这种不确定性包括发生与否的不确定、发生时间的不确定和导致结果的不确定。

国际标准化组织(ISO)正式发布了ISO 31000《风险管理原则实施指南》，其中对风险的定义是:“**对目标的不确定性影响**(effect of uncertainty on objectives)"。

在信息安全领域，风险(Risk) 就是指各种威胁导致**安全事件(黑客攻击、勒索病毒、Ddos等等)**发生的可能性及其对组织所造成的负面影响。

### 风险的特性

**偶然性**:由于信息的不对称，未来风险事件发生与否难以预测。

**相对性**:风险性质会因时空各种因素变化而有所变化。

**社会性**:风险的后果与人类社会的相关性决定了风险的社会性,具有很大的社会影响。

**客观性**:风险是一种不以人的意志为转移，独立于人的意识之外的客观存在。因为无论是自然界的物质运动，还是社会发展的规律，都由事物的内部因素所决定，由超过人们主观意识所存在的客观规律所决定。

**不确定性**:发生时间的不确定性。从总体.上看，有些风 险是必然要发生的，但何时发生却是不确定性的。发生后的损失不确定，是否会发生也不确定。

**可识别性**:通过分析事物的内外部因素，可以识别风险。

**可控性**:采取一定的控制措施，把风险损失控制在一定的范围内。

### 风险评估定义

风险评估(Risk Assessment)是指,在风险事件发生之前或之后(但还没有结束) ,该事件给人们的生活、生命、I财产等各个方面造成的影响和损失的可能性进行**量化(主观化)**评估的工作。即，**风险评估就是量化测评某一事件或事物带来的影响或损失的可能程度。**

从信息安全的角度来讲，风险评估是对信息资产(即某事件或事物所具有的信息集)所面临的威胁、存在的弱点、造成的影响，以及三者综合作用所带来风险的可能性的评估。作为风险管理的基础，风险评估是组织确定信息。安全需求的一个重要途径，属于组织信息安全管理体系策划的过程。

**就是对各方面风险进行辨识和分析的过程，它包括风险分析和风险评价,是确认安全风险及其大小的过程。**

### 风险评估服务

**服务**:为一定对象的利益或为某种事业而工作

**大白话**:在当今生活中，为了提高消费者的工作效率，生活品质而诞生的付费产品，比如腾讯会员服务,推出精品视频，满足观看者的精神消费

**在网络安全中**:风险评估服务也是帮助客户识别风险、脆弱点;帮助客户减少风险的付费服务全面的安全风险评估,帮助客户形成全面的安全风险管控。

风险评估服务是对组织信息系统安全现状，对信息资产面临的威胁、存在的脆弱性、现有防护措施及综合作用而带来风险的发生可能性评估，最终提供全面的**风险评估报告**。

### 风险评估服务简洁理解

风险评估是识别、控制、降低或消除可能影响**信息系统**的安全风险的过程。是一个识别、 控制、降低或消除安全风险的活动，通过风险评估来识别风险大小，通过制定信息安全方针，采取适当的控制目标与控制方式对风险进行控制，使风险被避免、转移或降至一个可被接受的水平。

![image-20230607091858424](https://img.gyxnb.top/img/image-20230607091858424.png)

###  风险评估的工作方式

信息安全风险评估主要有**自评估**和**检查评估**、**委托评估**三种形式。

**自评估**是指信息系统拥有、 运营或使用单位发起的对本单位信息系统进行的风险评估。 其优点是可方便地进行经常性的评估，及时采取对策降低安全风险,是一种“自查自纠”的方式。这种方式是在一个机构内部进行，因此一般不会引入评估带来的新的风险,缺点是专业性和客观性稍较差。

**检查评估**是指信息系统上级管理部门或有关职能部门门组织的信息安全风险评估。其优点是专业性、公证性、客观性较强，一般也不会引入评估带来的新的风险。

**委托具有相应资质的第三方机构提供技术支持。**但由于信息安全风险评估工作敏感性强，涉及系统的关键资产和核心信息，参与风险评估工作的单位及其有关人员均应遵守国家有关保密法规，对风险评估工作中涉及的保密事项，应采取相应保密措施，签订具有法律约束力的保密协议，并承担相应责任。

### 风险评估操作方法

**定性评估**:凭借分析者的**经验和直觉**，或者业界的标准和管理，为风险的诸要素的大小或高低程度判定分级(常见等级如低中高) ,定性评估具有很强主观性。

**定量评估**:在成本效益分析期间收集的各个组成部分估算客观数字值，定量分析更具客观性。

**定性&定量结合**:指在信息过程中综合使用定性和定量评估方法对风险诸要素进行分级判定，实现对风险各要素的度量数值化。



**在实际风险评估项目中，经常采用定性&定**

**量结合的方法。**

## 2、基础术语与逻辑关系

### 基础术语

**业务战略**

即一个组织通过信息系统实现的工作任务。一个单位的主营业务对信息系统和信息的依赖程度越高，要求其风险越小。

**资产**

对组织有价值的信息或资源，是安全策略保护的对象。如:信息化建设积累起来的信息系统、信息、生产或服务能力、人员能力和贏得的信誉等。

**资产价值**

资产是有价值的，组织的业务战略对资产的依赖程度越高，资产价值就越大。

**威胁**

一个单位的信息资产的安全可能受到的侵害。威胁由多种属性来刻画:威胁的主体(威胁源)、 行为、能力、资源、动机、途径、可能性和后果等

**脆弱性**

信息资产及其安全措施在安全方面的不足和弱点。脆弱性也常常被称为漏洞。

**残余风险**

采取了安全措施，提高了信息安全保障能力后，仍然可能存在的风险，以及未被识别到的风险，均属于残余风险。

**安全需求**

为保证--个单位的使命能够正常行使，在信息安全保障措施方面提出的要求

**安全措施**

为对付威胁，减少脆弱性，保护资产，限制意外事件的影响，检测、响应意外事件，促进灾难恢复和打击信息犯罪而实施的各种实践、规程和机制的总称。安全措施分为技术和管理两大类。

### 逻辑关系

![image-20230607112906392](https://img.gyxnb.top/img/image-20230607112906392.png)

### 我们举一 个简单的例子

我口袋里有100块钱，是准备买晚餐用的，因为打瞌睡，被小偷盯上了。

用风险评估的观点来描述这个案例，我们可以对这些概念作如下理解:

- 风险=钱可能被偷走资产=100块钱
- 影响=晚上没饭吃
- 威胁=小偷(偷窃)
- 脆弱性/弱点=打瞌睡

概念延伸: 

假如文中出现的不是小偷而是强盗呢?

![image-20230607130352983](https://img.gyxnb.top/img/image-20230607130352983.png)

假设这么个案例:某证券公司的数据库服务器因为存RPC DCOM的漏洞，遭到黑客入侵，业务系统被迫.中断3天。

让我们尝试做一道小学时常做的连线题，把左右两边相对应的内容用线段连接起来:

![image-20230607130525502](https://img.gyxnb.top/img/image-20230607130525502.png)

风险的构成包括五个方面:**起源(威胁源)、方式(威胁行为)、途径(脆弱性)、受体(资产)和后果(影响)**。风险发生的路径如下:

![image-20230607161042507](https://img.gyxnb.top/img/image-20230607161042507.png)



## 3、技术评估

![image-20230607185226749](https://img.gyxnb.top/img/image-20230607185226749.png)



![image-20230607204349036](https://img.gyxnb.top/img/image-20230607204349036.png)

## 4、评估整体流程介绍

### 准备阶段工作内容

![image-20230611162843311](https://img.gyxnb.top/img/image-20230611162843311.png)

#### 准备阶段工作产出--示例

##### 评估组织

![image-20230611163435738](https://img.gyxnb.top/img/image-20230611163435738.png)

### 资产识别

#### 资产分类

- ➢软硬件资产(网络设备、安全设备、主机、基础设施、操作系统、数据库等)
- ➢网络设备(包括路由器、交换机等)
- ➢安全设备(包括防火墙、入侵检测系统、防病毒网关等)
- ➢主机(包括服务器、关键PC终端等)
- ➢物理环境(如机房、核心办公区域)
- ➢重要数据(如计费数据、用户信息数据、用户帐单)
- ➢管理制度及文档
- ➢人员(信息安全相关)
- ➢业务系统

#### 资产识别工作产出

##### 阶段成果

- 《资产统计表》
- 《重要资产赋值表》
- 《资产识别会议纪要》

#### 实施流程及方式

![image-20230611165939753](https://img.gyxnb.top/img/image-20230611165939753.png)

### 威胁评估与识别

![image-20230611170133621](https://img.gyxnb.top/img/image-20230611170133621.png)

#### 威胁列表

![image-20230611171130040](https://img.gyxnb.top/img/image-20230611171130040.png)

##### 脆弱性识别工作产出

###### ◆阶段成果

- 《脆弱性统计表》
- 《脆弱性威胁识别会议纪要》

###### ◆脆弱性影响程度赋值(简称脆弱性赋值)

![image-20230611171340989](https://img.gyxnb.top/img/image-20230611171340989.png)

### 风险识别工作内容

- ◆根据**资产价值、脆弱性程度、威胁程度**、已有控制措施及效力综合分析风险及风险值
- ◆根据组织风险接受能力区分可接受风险与不可接受风险
- ◆针对不可接受风险提供整改建议，可接受风险保留现有控制措施
- ◆对整改后的残余风险进行二次评估

#### 风险分析

##### ◆风险值=R(A,V,T)=R(L(T,V)，R(la,Va))

其中，R表示安全风险计算函数；A表示资产；T表示威胁; V表示脆弱性；la表示安全事件所作用的资产价值； Va表示脆弱性严重程度，L表示威胁利用资产的脆弱性导致安全事件的可能性; F表示安全事件发生后造成的损失。

![image-20230630114039599](https://img.gyxnb.top/img/image-20230630114039599.png)

##### ◆安全事件的可能性计算

![image-20230630114357626](https://img.gyxnb.top/img/image-20230630114357626.png)

##### ◆安全事件的可能性等级划分

![image-20230630114419076](https://img.gyxnb.top/img/image-20230630114419076.png)

一般我们将中等及以上作为不可接受风险，出具整改建议，中等以下为可接受风险，保留现有安全措施

#### 风险处置

##### ◆风险的四种处置方式

###### 1、风险转移(转嫁)

风险转移是对风险最为实际而有效的应对方式,指的是将面临的资产或价值通过合同或者非合同的方式转嫁给另一个人或单位的一-种风险处理方式。风险转移可以将风险可能造成的损失进行部分或完全转移。

###### 2、风险规避

风险规避是风险应对的一-种重要措施，是指通过变更原有的计划来消除风险或者风险发生的条件,从而避
免目标遭受风险的影响，但是风险规避并不意味着风险完全的消除，而是规避了风险可能给目标造成的损
失，方面降低损失发生的几率，另一个方面降低损失的程度。

###### 3、风险降低(减低)

当风险无法完全规避时，风险降低是指通过一系列的保护措施来降低风险。

1)采取技术措施:及时打补丁、关闭无用网络服务端口、加强边界防护、 增加备份容灾等。

2)建立风险预警机制和风险控制体系;

3)采取法律的手段将一些计算机犯罪予以法律制裁。 计算机犯罪的范畴包括盗取机密信息、攻击关键的信息系统基础设施、传播病毒、不健康信息和垃圾邮件等。

###### 4、风险接受

风险接受，是指组织自己承担风险造成的损失。在风险明显满足组织方针策略和接受风险的准则的条件下，或者处置该风险所耗费的成本远远大于收益的时候，风险接受不失为- -种合理的选择。

![image-20230630165806802](https://img.gyxnb.top/img/image-20230630165806802.png)

#### 阶段成果

《风险分析表》

《风险统计图》

《不可接受风险处理计划》

《不可接受风险处理记录》

《风险分析会议纪要》

《风险评估报告》

### 风险评估报告

1. 1安全风险评估结论

   ​	1.1 资产面临风险现状

   ​	1.2目前防护能力

   ​	1.3己潜伏威胁

2. 2概述

   ​	2.1项目背景

   ​	2.2评估范围.

   ​	2.3网络拓扑

   ​	2.4评估组织

3. 3评估依据

4. 4资产识别

   ​	4.1资产梳理

   ​	4.2重要资产估值

5. 5脆弱性评估

6. 6威胁评估

   ​	6.1常规威胁.

   ​	6.2潜伏威胁

7. 7防御能力评估

8. 8综合风险分析

   ​	8.1风险分析方法

   ​	8.2风险等级划分

   ​	8.3不可接受风险划分

   ​	8.4风险分析结果

9. 9风险统计

10. 10不可接受风险处置建议

![image-20230630172923678](https://img.gyxnb.top/img/image-20230630172923678.png)



# 风险评估服务价值

## 1.1安服服务价值与资产梳理

### 1、服务项目

#### 安全厂家主流服务项目

![image-20230630180136086](https://img.gyxnb.top/img/image-20230630180136086.png)

#### 模块化

![image-20230630180648946](https://img.gyxnb.top/img/image-20230630180648946.png)

#### 1.1资产梳理

##### 1.1.1资产梳理概念

术语或定义

- 资产asset

对组织有价值的任何东西。

——ISO/IEC 13335-1:2004《信息技术信息安全管理指南》

---

- 资产asset

对组织具有价值的信息或资源，是安全策略保护的对象。

——GB/T 20984-2007《信息安全技术信息安全风险评估规范》

---

- 资产梳理

将资产的指纹信息统计整理成资产台账或清单。

##### 资产梳理的方法

收录

收集客户现有的资产表，统计录入到标准化的资产统计表中，并补充缺失或遗漏的指纹信息。

---

现场审查、核对

跟随负责人到资产存放位置进行审查、核对，更新失效、错误、遗漏的资产或指纹信息。

---

会议

组织资产的干系人进行会议，评审资产梳理表，对会议中否定的内容重新进行先插审查、核对，完成后重新与干系人评审。

##### 资产的分类

资产的定义是对组织有价值的任何东西。仅从网络与信息安全角度来说，资产就有多种表现形式,根据其表现形式可将资产分为:数据、软件、硬件、服务、人员、管理、业务系统、物理环境等等方面。

根据国标20984标准要求，我们一般讲资产分为以下类别:

- ●业务应用
- ●物理环境
- ●人力资源
- ●组织管理
- ●硬件资产
- ●软件资产
- ●文档数据
- ●服务资产
- ●其他

![image-20230630190510579](https://img.gyxnb.top/img/image-20230630190510579.png)

![image-20230630190556732](https://img.gyxnb.top/img/image-20230630190556732.png)

![image-20230630190644479](https://img.gyxnb.top/img/image-20230630190644479.png) 

#### 1.2资产属性

##### 资产属性定义

我们常说的资产指纹信息即资产的属性，资产的属性一般分 为固有属性和控制属性，固有属性包括:类型、归属者(单位或公司等组织)、作用(用途)、特征、价格、数量(规格)等;控制属性包括:资产标识、管理者(责任人)、位置及存放位置、密级等。

其中安全属性是很重要的一项控制属性，安全属性主要包括常见的CIA三性(保密性、完整性、可用性)，以及可靠性、真实性、可追溯性、可控性等非常见安全属性。



●保密性

确保信息不可用或不暴露给未经授权的个人、实体或过程的特性。

●完整性

保证数据和系统的完整。

●可用性

一旦授权用户需要，就可以访问和使用的特性。

——ISO/IEC 13335-1:2004《信息技术信息安全管理指南》

---

●保密性

数据所具有的特性，即表示数据所达到的未提供或未泄露给非授权的个人、过程或其他实体的程度。

●完整性

保证信息及信息系统不会被非授权更改或破坏的特性。包括数据完整性和系统完整性。

●可用性

数据或资源的特性，被授权实体按要求能访问和使用数据或资源。

——GB/T 20984-2007《信息安全技术信息安全风险评估规范》

#### 1.3资产赋值

##### 资产赋值定义及算法

**◆资产赋值(估值)**

在识别出信息资产后，接着是为每项资产赋予价值。资产估价是一个主观的过程，**资产价值不是以资产的账面价格来衡量的**，而是指其相对价值。在对资产进行估价时，不仅要考虑资产的成本价格，更重要的是考虑资产对于组织业务战略的重要性，即根据资产损失所弓|发的潜在的商务影响来决定。组织应按照上述原则，建立- -个资产价值尺度以明确如何对资产进行赋值。一般按资产CIA三性赋值。

**◆资产赋值算法**

➢CIA三性赋值——资产价值=Roundup[(C+1+A)/3]

##### 资产赋值--拓展

◆资产赋值时应该考虑:

​	●信息资产因为受损而对业务造成的直接损失;

​	●信息资产恢复到正常状态所付出的代价，包括检测、控制、修复时的人力和物力;

​	●信息资产受损对其他部门]的业务造成的影响;

​	●组织在公众形象和名誉上的损失;

​	●因为业务受损导致竞争优势丧失而引|发的间接损失;

​	●其他损失，例如保险费用的增加。

◆定性分析时，我们关心的是资产对组织的重要性或其敏感程度，即由于资产受损而引|发的潜在的业务影响或后果。

◆可以根据资产的重要性(影响或后果)来为资产划分等级。

**◆应该同时考虑保密性、完整性和可用性三方面受损可能引发的后果。**

##### 保密性

![image-20230630192232089](https://img.gyxnb.top/img/image-20230630192232089.png)

##### 完整性

![image-20230630192430846](https://img.gyxnb.top/img/image-20230630192430846.png)

##### 可用性

![image-20230630192539837](https://img.gyxnb.top/img/image-20230630192539837.png)



### 2、服务价值

**➢合规驱动:满足相关监管要求;**

——面对上级单位及监管单位检查场景，通过风险评估识别安全脆弱性,提前做好安全加固。

**➢业务驱动:有的放矢的安全建设指导(体系化) ;**

——业务层面(规划) :组织内部的安全问题很多,信息安全工作应该优先开展哪一部分?如何衡量效率及成本和安全?未来安全建设如何规划?找到客户安全痛点，"按病吃药”，针对进行安全方案建设，合理投入;

——业务层面(现状) :已经采购大量安全设备后，安全现状到底如何?通过风险评估服务进行针对性检查,让运营者清晰认识到自身环境中的资产以及围绕着资产的脆弱性及威胁，让运营者充分了解自身的安全状态; .

——业务层面(新增) :新业务上线是否"带病上线” ，通过风险评估服务进行全面检测;

**➢重保驱动:重保前期安全检测;**

——如何在重保活动前有效预防?提前做好针对性加固，提前知悉安全入口;

**➢事件驱动:安全事件预防，安全事件发生后深度分析检测并规避；**

——当安全事件影响业务后，简单的漏洞检测已经不能够满足用户需求,需要通过整体风险评估,业务层安全问题,并将业务风险进行计算,得出风险分析报告。

#### 资产等级(资产价值)

##### 资产等级及含义描述

![image-20230630192819777](https://img.gyxnb.top/img/image-20230630192819777.png)

通常我们将等级(一般称作资产价值) 3及 3以上的资产认定为重要资产，资产价值1及2的资产认定为非重要的资产

#### 交付物-资产表

## 1.2漏洞扫描

### 1.2.1漏洞概念

**漏洞**是在硬件、软件、协议的具体实现或系统安全策略上存在的缺陷和不足，也称为脆弱性。

---

1990年，Dennis Longley和Michael Shain在《The Data and Computer Security Dictionaryof Standard, concepts, and Terms》中对漏洞作出了如下定义:

在计算机安全中，漏洞是指自动化系统安全过程、管理控制以及内部控制中的缺陷,漏洞能够被威胁利用，从而获得对信息的非授权访问或者破坏关键数据的处理。

#### 漏洞的分类

目前集中常见的漏洞分类方法:

根据漏洞被攻击者利用的的方式，分为本地攻击漏洞和远程攻击漏洞。本地攻击漏洞的攻击者是本地合法用户或通过其他方式获得本地权限的非法用户;远程攻击漏洞的攻击者通过网络,对连接在网络上的远程主机进行攻击。

---

根据漏洞所指的目标漏洞存在的位置，可分为操作系统、网络协议栈、非服务器程序、服务器程序、硬件、通信协议、口令恢复和其他类型的漏洞。



根据其对系统造成的潜在威胁以及被利用的可能性可将各种系统安全漏洞进行分级:

- ●高级别漏洞:如大部分远程和本地管理员权限漏洞
- ●中级别漏洞:如大部分普通用户权限、权限提升、读取受限文件、远程和本地拒绝服务漏洞
- ●低级别漏洞:如大部分信息探测、信息泄露漏洞
- ●也有一些厂家定义了极高和极低2个级别

#### 漏洞存在的原因

网络安全漏洞是“不可避免”，这是由网络系统的高度复杂性所决定的。

1. (1)软件或协议设计和实现的缺陷，如不对输入数据的合法性进行检查。
2. (2)错误配置，如ftp服务 器的匿名访问。
3. (3)软件测试不完善，甚至缺乏安全测试。
4. (4)安全意识薄弱，如选取简单口令。
5. (5)管理人员的疏忽，如没有良好的安全策略及执行制度，重技术，轻管理。

#### 发布漏洞信息的组织

##### 1.CVE

通用漏洞和曝光(CVE，Common Vulnerabilities and Exposures )是Mitre公司开发的项目，致力于漏洞名称的标准化工作，提供正式的通用漏洞命名标准服务。

网址是www.cve.mitre.org

##### 2.CERT

是Computer Emer Response Team的缩写，是世界上第一个计算机安应急响应组织， 该组织发布漏洞信息，提供漏洞数据库，可以通过名字、ID号、CVE名字、公布日期、更新日期、严重性等方法查询漏洞信息。漏洞记录包括漏洞描述、影响、解决方案、受影响系统等信息。

网址是http://www.cert.org

##### 3.CNCERT/CC

CNCERT/CC是国家互联网应急中心的简称,负责协调处理我国公共互联网的安全紧急事件，为我国的公共互联网、主要网络信应用系统以及关键部]提供计算机网络安全的监测、预警、应急、防范等安全服务和技术支持，及时收集、核实、汇总、发布有关互联网安全的权威性信息。

网址是www.cert.org.cn

##### 4.CCERT

CCERT是中国教育和科研计算机网紧急响应组的简称，对中国教育和科研计算机网及会员单位的网络安全事件提供响应或技术支持服务，也对社会其他网络用户提供与安全事件响应相关的咨询服务。

网址是www.edu.cn/xxh/cernet/ccert

### 1.2.2网络扫描技术

#### 漏洞检测

漏洞检测就是对重要计算机信息系统进行检查，发现其中可被黑客利用的漏洞。该技术通常采用两种策略，即被动式策略和主动式策略。

●被动式策略是基于主机的检测，对系统中不合适的设置、 脆弱的C ]令以及其他同安全规则相抵触
的对象进行检查;

●主动式策略是基于网络的检测，通过执行一-些脚本文件对系统进行攻击，并记录它的反应，从而
发现其中的漏洞。

##### 主要方法

漏洞检测的主要方法:直接测试(Test)、推断( Inference)和带凭证的测试(Test with Credentials)

###### **直接测试**

直接测试是指利用漏洞特点发现系统漏洞的方法。

根据渗透方法的不同，可以将测试分为两种不同的类型:可以直接观察到的测试和只能间接观察到的测试直接测试的方法具有以下六大特点:

1. 1)通常用于对Web业务及服务器漏洞进行检测。
2. 2)能够准确地判断系统是否存在特定漏洞。
3. 3)对于检测所需步骤较多的漏洞速度较慢。
4. 4)攻击性较强，可能对存在漏洞的系统造成破坏，甚至弓|发系统崩溃。
5. 5)对于DoS漏洞，测试方法会造成系统拒绝服务或系统崩溃。
6. 6)不是所有漏洞的信息都能通过测试方法获得。

###### 推断

推断是指不利用系统漏洞而判断漏洞是否存在的方法。它并不直接渗透漏洞，只是间接地寻找漏洞存在的证据。

采用推断方法的检测手段主要有版本检查Version Check、程序行为分析、 操作系统堆栈指纹分析和时序分析。

1. 1)版本检查是推断方法中最简单的一-个应用。
2. 2)行为分析在需要推翻某个“风险假设”时非常有用。

###### 带凭证的测试

凭证是指访问服务所需要的用户名或者密码，包括UNIX的登录权限和从网络调用Windows NT的API的能力。

### 1.2.3常用的扫描器

#### 常用的工具

##### ◆Nessus 

Nessus是典型的漏洞扫描器，由客户端和服务器端两部分组成，支持即插即用的漏洞检测脚本。它是一套功能强大、结构完整、时时更新且相当容易使用的安全漏洞扫描软件。这套软件的发行目的是帮助系统管理者搜寻网络层及应用层中存在的漏洞。

##### ◆AWVS

Acunetix Web Vulnerability Scanner (简称AWVS)是一款知名的网络漏洞扫描工具，它通过网络爬虫测试你的网站安全，检测流行安全漏洞。AWVS可以检查SQL注入漏洞/跨站脚本攻击等漏洞，可以扫描任何可以通过web浏览访问和遵循HTTP/HTTPS规则的web站点和web应用程序。

##### ◆IBM Appscan

IBM AppScan该产品是-个知名的Web应用安全测试工具，曾以Watchfire AppScan的名称享誉业界。Rational AppScan可将Web应用的安全漏洞评估工作自动化，能扫描和检测所有常见的Web应用安全漏洞，例如SQL注入(SQL-injection) 、跨站点脚本攻击(cross-site scripting)、缓冲区溢出(buffer overflow)及最新的Flash/Flex应用及Web 2.0应用曝露等方面安全漏洞的扫描。

##### ◆各个厂家的漏洞工具

传统服务安全评估工具开发主要面向安服交付和渠道使用，由于交付传统服务项目时，当前采用手工或第三方厂商产品，一方面交付效率低下,另- -方面，第三方产品可控性和灵活性差，且支及时撑能力弱，因此，为支持安服交付和渠道交付传统服务项目，开发安全评估工具，主要功能包括:资产识别、系统漏洞、web漏洞、弱口令和基线核查等。

## 1.3.1基线核查概念

### 基线的起源

基线，在测量学中指的是经精确测定长度的直线段;在地理中是指陆地和内水同领海的分界线。出于国际法和国内法的目的,陆地和海洋的划分界线被称为基线(Baseline) 。

### IT中的基线定义

在计算机术语中，基线是项目储存库中每个工件版本在特定时期的一一个“快照”。它提供一个正式标准，随后的工作基于此标准,并且只有经过授权后才能变更这个标准。建立一个初始基线后，以后每次对其进行的变更都将记录为一个差值，直到建成下一个基线。

![image-20230701062305663](https://img.gyxnb.top/img/image-20230701062305663.png)

### 软件配置管理的基线

**●功能基线(Functional Baseline) :**

指在系统分析与软件定义阶段结束时，在经过正式评审和批准的系统设计规格说明书中对开发系统的规格说明;或是指在经过项目委托单位和项目承办单位双方签字同意的协议书或合同中，所规定的对开发软件系统的规格说明;或是由下级申请并经上级同意或直接由.上级下达的项目任务书中所规定的对开发软件系统的规格说明。功能基线是最初批准的功能配置标识。

**●分配基线(Allocated Baseline) :**

指在软件需求分析阶段结束时，经过正式评审和批准的软件需求规格说明。分配基线是最初批准的分配配置标识。

**●产品基线(Product Baseline) :**

产品基线指在软件组装与系统测试阶段结束时，经过正式评审和批准的有关软件产品的全部配置项的规格说明。产品基线是最初批准的产品配置标识。

### 安全配置基线--基线核查

●安全基线

是借用"基线"的概念。类比于“木桶理论”，可以认为安全基线是安全木桶的最短板，或者说，是**最低的安全要求**。安全基线在一台计算机上实现了受信计算机组件。同时，它还描述了实现安全运行的所有相关配置设置。

●基线核查

是安全基线配置核查(或检查)的简称，一般指根据配置基线(不同行业及组织具有不同安全配置基线要求)要求对IT设备的安全配置进行核实检查，以发现**薄弱**或**未满足要求的配置**。

![image-20230701063655630](https://img.gyxnb.top/img/image-20230701063655630.png)

### 基线核查的主要对象

![image-20230701063946231](https://img.gyxnb.top/img/image-20230701063946231.png)

### 基线核查的主要内容

- ●安全基线的元素包括:服务和应用程序设置。例如:只有指定用户才有权启动服务或运行应用程序。
- ●操作系统组件的配置。例如: Internet信息服务(IIS)自带的所有样本文件必须从计算机上删除，禁用3389等高危端口。
- ●权限和权利分配。例如:只有管理员才有权更改操作系统文件。
- ●管理规则。例如:计算机上的administrator密码每30天换一次，禁止使用系统默认账户名。

![image-20230701075817438](https://img.gyxnb.top/img/image-20230701075817438.png)

### 工信部标准--网络设备

4.1网络设备安 全防护基线配置及检测总体要求

电信网和互联网的网络设备的安全防护基线配置及检测应满足账号口令、认证授权、日志安全、协议安全和其他安全等五个方面的要求，具体配置操作及检测方法应结合具体设备。总体要求主要包括:

a)账号口令

1)应按照用户分配账号，避免不同用户间共享账号，避免用户账号和设备间通信使用的账号共享。为了控制不同用户的访问级别，应建立多用户级别。根据用户的业务需求，将用户账号分配到相应的用户级别。

2)应删除与设备运行、维护等工作无关的账号。

3)应配置定时账户自动登出，如TELNET、SSH、HTTP等管理连接和CONSOLE口登录连接等，登出后用户需再次登录才能进入系统。

4)对于采用静态口令认证技术的设备，口令长度应至少8位，并包括数字、小写字母、大写字母、标点和特殊符号4类中至少3类，且与账号无相关性，同时应定期更换口令，更换周期不大于90天。

5)静态口令应使用不可逆加密算法加密后以密文形式存放于配置文件中。

6)应配置consol口密码保护功能。

7)应修改root密码。

---

b)认证授权

1)在设备权限配置能力内，应根据用户的业务需要，配置其所需的最小权限。

2)系统远程管理服务TELNET. SSH应只允许特定地址访问。

3)应通过相关参数配置，与认证系统联动，满足账号、口令和授权的强制要求。

---

c)日志安全

1)应配置日志功能，对用户登录进行记录，并记录用户对设备的操作。

2)应配置日志功能，记录对与设备相关的安全事件。

3)应配置远程日志功能，所有设备日志均能通过远程8志功能传输到日志服务器,并支持至少一

种通用的远程标准日志接口，如SYSLOG、 FTP等。

4)应开启NTP服务，保证日志功能记录的时间的准确性。路由器/交换机与NTP SERVER之间应开启认证功能。



### 工信部标准--数据库

4数据库安全防护基线配置要求

4.1基本要求 ;

对于使用数据库的电信网和互联网网络和系统，在安全配置方面，应满足如下要求:

a)账号

1. 1)应按照用户分配账号，避免不同用户间共享账号;
2. 2)应删除或锁定与数据库运行、维护等工作无关的账号;
3. 3)删除过期账号。

---

b)授权

在数据库权限配置能力内，根据用户的业务需要，配置其所需的最小权限。

---

c)口令.

对于采用静态口令进行认证的数据库，口令长度至少8位，并包括数字、小写字母、大写字母和特殊符号4类中至少3类。

---

d)日志.

数据库应配置日志功能。

---

e)安全补丁

在保证业务可用性的前提下，经过分析测试后，可以选择更新使用最新版本的补丁。

---

f)可行IP地址访问控制

通过数据库所在操作系统或防火墙限制，只有信任的IP地址才能通过监听器访问数据库。具体的，对于使用MS SQL Server、MySQL、Oracle数据库的所有安全防护等级的网络和系统，安全配置方面的基本要求及检测要求如下。

### 工信部标准--Web应用

4 web 应用系统安全防护基线配置要求及检测要求

![image-20230701093653618](https://img.gyxnb.top/img/image-20230701093653618.png)

![image-20230701094116074](https://img.gyxnb.top/img/image-20230701094116074.png)



### 公安部标准--等级保护

#### 7.1.4安全计算环境

##### 7.1.4.1身份鉴别

本项要求包括:

a)应对登 录的用户进行身份标识和鉴别,身份标识具有唯一性,身份鉴别信息具有复杂度要求并定期更换;

b)应具有登录失败处理功能,应配置并启用结束会话、限制非法登录次数和当登录连接超时自动退出等相关措施;

c)当进行远程管理时,应采取必要措施防止鉴别信息在网络传输过程中被窃听。

##### 7.1.4.2 访问控制

本项要求包括:

a)应对登录的用户分配账户和权限;

b)应重命名或删除默认账户,修改默认账户的默认口令;

c)应及时删除或停用多余的、过期的账户，避免共享账户的存在;

d) 应授予管理用户所需的最小权限, 实现管理用户的权限分离。

##### 7.1.4.3安全审计

本项要求包括:

a) 应启用安全审计功能,审计覆盖到每个用户,对重要的用户行为和重要安全事件进行审计;

b) 审计记录应包括事件的日期和时间、用户.事件类型.事件是否成功及其他与审计相关的信息;

c) 应对审计记录进行保护,定期备份,避免受到未预期的删除修改或覆盖等。

##### 7.1.4.4 入侵防范

本项要求包括:

a)应遵循最小安装的原则,仅安装需要的组件和应用程序;

b) 应关闭不需要的系统服务、默认共享和高危端口;

c)应通过设定终端接入方式或网络地址范围对通过网络进行管理的管理终端进行限制;

d)应提供数据有效性检验功能, 保证通过人机接口输入或通过通信接口输入的内容符合系统设定要求;

e)应能发现可能存在的已知漏洞,并在经过充分测试评估后,及时修补漏洞。

### 基线扫描方式(在线和离线)

#### 在线扫描

远程扫描，对方需要开启rdp、samba、ssh、 telnet中间的一 -种， 并且要知道对方的账号密码

可能存在风险:高危端口开放到外网，可能导致威胁事件

#### 离线扫描

离线脚本扫描，服务器本机运行

可能存在风险:脚本载体带毒.上服务器，直接内网感染

## 1.4渗透测试服务

### 1.4.1渗透测试的概述

#### 什么是渗透测试

##### ●渗透测试(Penetration Testing)

是为了证明网络防御按照预期计划正常运行而提供的一种机制。

- ●依据:对已知或未知漏洞测试、模拟攻击。
- ●目地:降低安全风险、完善目前的安全策略。
- ●特点:人工检测、工具扫描、可控非破坏

##### ●常规渗透测试和“红队”测试

- ●共性:都是为了帮助客户检测系统安全性，发现安全问题。
- ●区别:“渗透测试”专注于对给定的系统进行测试，存在明确的测试目标和测试边界、测试时间，主要目标是为了尽可能发现安全隐患;“红队”在测试过程中通常除给定靶标外不会给予任何信息，攻击者需要自行搜集信息并规划一条攻击路径达到目的并隐藏踪迹，尽可能模拟真实APT攻击。

![image-20230701111900617](https://img.gyxnb.top/img/image-20230701111900617.png)

#### 渗透测试分类

##### ●按测试方法分类

- ●黑盒测试
- ●白盒测试
- ●灰盒测试

##### ●按目标类型分类

- ●针对主机操作系统
- ●针对应用系统(主要是Web应用)
- ●针对数据库
- ●针对网络及安全设备

#### 渗透工作流程概述(常规)

**前期交互阶段**:与客户沟通测试范围、时间、预期等

**准备阶段**:资产信息整理、对指定目标进行漏洞扫描

**漏洞分析阶段**:整理漏洞拦3描结果、汇总高可利用漏洞

**漏洞验证阶段**:使用合适的工具(方法)验证并保存截图

**后期报告阶段**:报告编写、核对、汇报

#### 渗透工作流程概述(红队)

**前期交互阶段**:与客户沟通测试范围、 时间、预期等

**准备阶段**:信息搜集、情报整理、威胁建模

**边界突破阶段**:漏洞发现、漏洞分析、漏洞利用

**横向扩展阶段**:权限提升、内网渗透

**后渗透阶段**:权限维持、痕迹清除

**后期报告阶段**:报告编写、核对、汇报

#### 信息搜集

##### 信息搜集是什么

●前期准备(踩点)

●决定渗透工作是否顺利的关键

##### 为什么要进行信息搜集

●缩小范围，节约时间提高效率

●定位脆弱点，精准打击，减少不必要的工作量

##### 常用工具

●搜索引擎(被动信息搜集)

●各类通用或专用扫描器(主动信息搜集)

![image-20230701145915087](https://img.gyxnb.top/img/image-20230701145915087.png)

#### 漏洞发现和利用

##### 漏洞种类

- ●Web业务逻辑漏洞(如支付漏洞)
- ●OWASP TOP 10和一些其它Web常见漏洞(如sq|注入、 上传 漏洞)
- ●特定场景的Web漏洞 (例如特定中间件、特定框架)
- ●非Web漏洞(主机操作系统漏洞、其它服务漏洞等)
- ●弱口令(包括Web和非Web)

##### 如何发现

- ●全自动:通用漏洞扫描器(例如Nessus)
- ●手工:充分的信息搜集配合漏洞PoC/EXP
- ●半自动:信息搜集+Fuzz工具+专用扫描器

#### 内网渗透

##### 信息再搜集

●已获得权限主机中的信息

●网段内存活主机信息、网络信息、域信息等

##### 权限提升

●非域环境提升到主机管理员权限

●域环境内提升到域管理员权限吖

##### 横向移动

●拿下同网段内更多主机，获取更多有价值的信息

##### 深入内网

●找到更深层内网边界(若存在)， 重复“信息搜集->漏洞发现和利用”的过程

●使用代理、端口转发等技术打通内外网连接

#### 后渗透阶段

##### 清除痕迹

●清除上传的代理工具、扫描工具、漏洞利用工具等

●清除主机日志

●清除数据库日志

##### 权限维持

●将后门替换为免杀后门，流量加密

●设置启动项、计划任务、服务项(或Linux中的守护进程)确保后门长期驻留稳定运行

●使用Rootkit/Bootkit、 驱动保护等高级隐藏方法

#### 业务流程和规范

![image-20230701150731715](https://img.gyxnb.top/img/image-20230701150731715.png)

#### 渗透测试报告文档框架

![image-20230701161518631](https://img.gyxnb.top/img/image-20230701161518631.png)

#### 渗透测试报告规范

字体与报告模版中一致，禁止出现同-章节平行小节中字体字号不一致的情况。

需要在截图中突出标注的部分用**红色方框标注**，禁止随意使用画图工具手工画线或画圈。

修复建议中涉及补丁下载、软件下载等，相关URL引用官方网站网址，禁止随意粘贴第三方下载站地址。

对于需要多个步骤触发的漏洞(例如文件上传并连接Webshell),细节描述部分 需要粘贴详细到每个步骤的截图。

![image-20230701162737438](https://img.gyxnb.top/img/image-20230701162737438.png)

## 1.5安全意识培训(非风评项目)

### 人员因素威胁

![image-20230702124951673](https://img.gyxnb.top/img/image-20230702124951673.png)

### 威胁场景

HW场景、重保、常规场景:

1. 1、钓鱼事件(事件钓鱼、邮件钓鱼、 通讯软件钓鱼)
2. 2、木马事件
3. 3、资产未收敛
4. 4、远程非规范值守
5. 5、勒索场景
6. 6、弱口令
7. 7、不规范操作
8. 8、判断事件不明确



### 客户急需科普安全意识

《网络安全意识》

## 1.6安全巡检(非风评项目)

### 安全巡检概述

部分单位因安全需求，购买安全设备数量及种类过多,导致安全设备滞留存放的情况时常存在,管理人员难以全面管理，设备没有得到合理利用，从而使设备功能没有得到充分的发挥，内部配置也未
得到及时更新。

安全设备日常维护不到位，缺乏及时有效的安全运维规范和管理，容易让企业遭受网络攻击。

### 网络安全巡检

安全巡检是指使用多种手段，对网络设备、服务器、操作系统、应用系统进行周期性的状态检查、安全扫描、日志分析，补丁管理并提交巡检报告及安全建议。

![image-20230707074321318](https://img.gyxnb.top/img/image-20230707074321318.png)

### 安全巡检的重要性

安全巡检的目的在于长期和持续地保持IT系统良好的安全状况，定期的安全巡检有助于及时发现长期运行的系统安全隐患、新的安全漏洞，并进行及时修复，能够保障系统、设备的安全和高可用性,能够掌握当前网络、系统的威胁状况，从而采取有针对性的安全措施。

### 安全巡检流程

安全巡检服务主要分为三个阶段,分别为巡检准备、巡检实施、巡检报告。

![image-20230707074826397](https://img.gyxnb.top/img/image-20230707074826397.png)

### 安全巡检内容

- **1、检查安全设备状态**

查看安全设备的运行状态、设备负载等是否正常;检查设备存放环境是否符合标准;对设备的版本进行检查,看是否有升级的必要;梳理分析设备的策略,清理过期无效策略，给出优化建议;此外还需查看安全设备是否过维保期等-系列的安全检查操作。根据网络安全等级保护的要求,对安全策略和配置做好调整和优化。

- **2、安全漏洞扫描**

对网络设备、主机、数据库、应用系统进行漏洞扫描，并根据拄描结果进行综合分析，评估漏洞的危害大小，最终提供可行的漏洞解决方案。

- **3、安全日志分析**

定期为用户信息系统内安全设备产生的海量日志进行深度挖掘和分析，对用户信息系统内安全设备产生的日志进行梳理，发现潜在的风险点。通过提供日志分析，及时掌握网络运行状态和安全隐患。

- **4、补丁管理**

在前期安全扫描的基础_上，对存在严重系统漏洞的主机进行补J更新,从而及时消除因为系统漏洞而产生的安全风险。定期的安全巡检能及时发现设备的异常情况，避免网络安全事故及安全事故的的发生，发现企业安全设备的异常情况，并能及时处理,其目的是为了保障企业安全设备的稳定运行。

### 安全巡检的意义

**安全巡检，顾名思义，巡与检，不仅要巡回，更要检查。巡检不是简单地在机房来回走几遍，其重点在于检查设备是否存在安全隐患。**

不管是日常维护的设备，还是不常使用的设备，要面面俱到，梳理排查信息基础设施的运行环境、服务范围及数据存储等所面临的网络安全风险状况。设备的定期安全巡检,是防范网络攻击的其中-方式，做好日常安全维护，才能有效减少攻击频率。

### 巡检方式

**时间:季度一次**

**内容:网络安全(架构安全和设备安全)巡检、服务器安全巡检、漏洞拄描和渗透测试**

网络架构安全:通过查看网络拓扑图以及访谈网络管理员方式进行;

网络设备安全:在网络中抽取1-2台网络设备/安全设备进行安全配置合规性检查;

主机安全巡检:在网络中抽取1-2台服务器进行安全配置合规性检查;

漏洞扫描:采用漏洞扫描设备分别接入业务网段进行扫描;

渗透测试:分别接入业务进行内网渗透测试，尽可能全面地发现网络中存在的各类漏洞、弱口令等安全风险。



**巡检的主要方式有:访谈、检查和测试。**

●访谈:访谈是测试人员通过与信息系统有关人员(个人/群体)进行交流、讨论、询问等活动，获取证据以证明保护措施是否有
效的一种方法。

●检查:检查是巡检人员通过对巡检对象进行观察、查验、分析等活动，获取证据以证明保护措施是否有效的-种方法。

●测试:测试是巡检人员通过对巡检对象按照预定的方法/工具使其产生特定的响应等活动，查看、分析测试对象的响应输出结果，
获取证据以证明保护措施是否有效的一种方法。

## 1.7标准应急流程(非风评项目)

### 1.7.1应急概述

#### 应急响应基本概念

➢未雨绸缪应急演练

​	➢未雨绸缪(即在事件发生前事先做好准备，比如风险评估、制定安全计划、安全意识的培训、以发布安全通告的方式进行的预警、以及各种防范措施，做应急演练)

![image-20230707081335115](https://img.gyxnb.top/img/image-20230707081335115.png)

➢亡羊补牢应急处置

​	➢亡羊补牢(即在事件发生后采取的措施，其目的在于把事件造成的损失降到最小。这些行动措施可能来自于人，也可能来自系统，比如发现事件发生后，系统备份、病毒检测、后门]检测、清除病毒或后门、隔离、系统恢复、调查与追踪、入侵者取证等一
系列操作)

#### 常见事件概述

##### 网络安全事件分类

➢国家标准GB/Z20986-2007《信息安全事件分类指南》根据信息安全事件的起因、表现、结果等,信息安全事件为恶意程序事件、网络攻击事件、信息破坏事件、信息内容安全事件、设备设施故障、灾害性事件和其他信息安全事件等7个基本分类，每个基本分类包括若干个子类。

**一、恶意程序事件**(计算机病毒事件，蠕虫事件，特洛伊木马事件，僵尸网络事件, 混合攻击程序事件，网页内嵌恶意代码事件，其他有害程序事件)

**二、网络攻击事件**(拒绝服务攻击事件,后门攻击事件,漏洞攻击事件，网络扫描窃听事件,网络钓鱼事件,干扰事件,其他网络攻击事件)

**三、信息破坏事件**(信息篡改事件,信息假冒事件,信息泄露事件，信息窃取事件，信息丢失事件，其他信息破坏事件)

**四、信息内容安全事件**(违反 宪法和法律，行政法规的信息安全事件、针对社会事项进行讨论评论形成网上敏感的舆论热点，出现-定规模炒作的信息安全事件、组织串联，煽动集会游行的信息安全事件、其他信息内容安全事件)

**五、设备设施故障**(软硬件自身故障、外围保障设施故障、人为破坏事故、其他设备设施故)

**六、灾害性事件**

**七、其他信息安全事件**

##### 网络攻击事件

➢安全扫描器攻击

➢黑客利用扫描器对目标进行漏洞探测，并在发现漏洞后进一步利用漏洞攻击。

➢Web漏洞攻击

➢通过SQL注入漏洞、上传漏洞、 XSS漏洞、越权访问漏洞等各种Web漏洞进行攻击。

➢暴力破解攻击

➢对目标系统账号密码进行暴力破解，获取后台管理员权限。

➢系统漏洞攻击

➢利用操作系统/应用系统中存在漏洞进行攻击。

##### WEB恶意代码事件

➢Webshell后门:黑客通过Webshell控制主机。

➢网页挂马:页面被植入恶意内容，影响访问者安全。

➢网页暗链:网站被植入博彩、色情、游戏等广告内容。

##### 恶意程序事件

➢病毒/蠕虫:造成系统缓慢，数据损坏、运行异常

➢远控木马:主机被黑客远程控制

➢僵尸网络程序:主机对外发动DDOS攻击、对外发起扫描攻击行为

➢挖矿程序:造成系统资源大量消耗深信服智安

##### 拒绝服务事件

拒绝服务攻击:通过大流量DDOS或者CC攻击目标，使目标服务器无法提供正常服务。

### 1.7.2应急响应阶段处理流程

➢应急响应六大阶段

为最大限度科学、合理、有序地处置网络安全事件,采纳了业内通常使用的PDCERF方法学，将应急响应分成准备(Preparation)、 检测 (Detection) 、抑制(Containment)、根除(Eradication)、恢复(Recovery)、跟踪(Follow-up) 6个阶段的工作，并根据网络安全应急响应总体策略对每个阶段定义适当的目的,明确响应顺序和过程。

![image-20230707083119421](https://img.gyxnb.top/img/image-20230707083119421.png)

#### ■事件确认

1. 1确定安全事件类型及评估影响范围
2. 2.确定客户的需求点和痛点(溯源、恢复业务。重点:引导客户)
3. 3.计划问题处置的时间表(预计问题处置花费时间)
4. 4.初步判断处置该事件所需的资源(设备资源、人力资源)

#### ■事件抑制

##### 可中断业务

1.关闭已失陷的系统

2.断开网络连接

3禁用或删除被攻破的账号

4.关闭可被攻击利用的服务

##### 不可中断业务

1.根据被攻击的情况配置安全策略在安全设备

2.修改被攻破账号的账号密码

3.服务被入侵时，且在无法中断时，设置白名单源地址。

#### 原因分析

从网络流量、系统日志WEB日志记录、应用日志、数据库日志、安全产品数据等,分析黑客入侵手法，调查造成安全事件的原因,确定安全事件的威胁和破坏的严重程度。

#### ■总结报告

事件处置完毕后，根据整个安全事件的情况编写《XXX应急响应报告》，该文档描述安全事件的现象、处置过程、处置结果、事件的根因分析、并总结安全加固建议、产品加固建议。

### 风险评估课程总结

![image-20230710220901122](https://img.gyxnb.top/img/image-20230710220901122.png)

#### 风险评估项目-模块化

![image-20230710224610688](https://img.gyxnb.top/img/image-20230710224610688.png)

#### 风险评估最终价值-客户价值

##### ➢合规驱动: 满足相关监管要求;

-面对.上级单位及监管单位检查场景,通过风险评估识别安全脆弱性,提前做好安全加固。

##### ➢业务驱动: 有的放矢的安全建设指导(体系化) ;

业务层面(规划) : 组织内部的安全问题很多,信息安全工作应该优先开展哪一部分? 如何衡量效率及成本和安全?未来安全建设如何规划?找到客户安全痛点,"按病吃药”，针对进行安全方案建设,合理投入; 

业务层面(现状) :已经采购大量安全设备后，安全现状到底如何?通过风险评估服务进行针对性检查,让运营者清晰认识到自身环境中的资产以及围绕着资产的脆弱性及威胁,让运营者充分了解自身的安全状态;

业务层面(新增) :新业务上线是否"带病上线” ,通过风险评估服务进行全面检测;

##### ➢重保驱动:重保前期安全检测;

-如何在重保活动前有效预防?提前做好针对性加固，提前知悉安全入口;

##### ➢事件驱动: 安全事件预防，安全事件发生后深度分析检测并规避

-当安全事件影响业务后，简单的漏洞检测已经不能够满足用户需求,需要通过整体风险评估，业务层安全问题,并将业务风险进行计算,得出风险分析报告。

# 风险评估的实施

## 1、项目准备

### 需求管理

![image-20230710225107036](https://img.gyxnb.top/img/image-20230710225107036.png)

### 项目流程

![image-20230710225314530](https://img.gyxnb.top/img/image-20230710225314530.png)

### 需求管理

#### ➢识别真正底层需求

— 确保产品服务方向正确;

— 确保给客户带来真正价值;

#### ➢安全需求的底层驱动

— 合规驱动;

— 事件驱动;

#### ➢PM需求沟通

— 服务合同确定需要参与

— 交付需求沟通需要主导

— 建议参与商机后需求沟通阶段

#### ➢让甲乙双方对实施的服务内容及预期效果达成一致。

### 项目准备阶段需要准备的材料

安全风险评估范围清单.docx

安全风险评估组织架构.docx

![image-20230711064335032](https://img.gyxnb.top/img/image-20230711064335032.png)



## 2、项目启动

### 为什么开项目启动会?

#### ➢达成共识

— 明确项目目标一-> 解决客户什么问题

— 服务范围一> 要做哪些事情(按照合同)

— 项目方案一- >大概计划怎么样如何完成

— 项目成果一> 产出是什么

— 项目人员->熟悉以及汇报频率沟通方式

— 项目风险一> 注意事项

— 合同

**— 领导授权支持**

#### ➢获得相关方理解和配合

**项目启动会一定要形成会议纪要发送相关方!**



乙方要推动正式开，开启动会有利于乙方工作的开展

如果客户觉得没必要正式可以口头先沟通再形成书面邮件让客户确认

### 启动会人员(常见)

#### ➢甲方

— IT主管

— 业务/网络/系统/安全部门门领导

— 业务/网络/系统/安全工程师

**— 项目甲方对接人**

#### ➢乙方

**— 项目经理**

— 市场人员

— 售前人员

— 实施工程师

#### ➢丙方

— 开发公司人员

— 运维公司人员

根据项目开展需要哪些部门和人员配合，提交客户确认，需要和客户对接人员讨论。



### 启动会前的准备工作

➢漏扫设备

➢测试工具

➢测试环境

➢统计表格

**➢授权书**

➢工具安检报告



➢服务人员架构职责

➢组织分工

➢项目目标

➢服务范围

➢服务内容

➢服务时间安排

➢需要甲方配合项

➢配合时间点

➢产出物

![image-20230711070842194](https://img.gyxnb.top/img/image-20230711070842194.png)



### 项目启动会目录(供参考)

1. 0、启动会目标(可口述)
2. 1、项目目标
3. 2、服务主体内容以及范围
4. 3、项目人员以及组织
5. 4、服务实施方案
6. 5、配合工作及注意事项

### 举例项目目标，主体范围

#### 项目目标

1)调研评估:通过文件审核、现场访谈、重点业务系统技术评估，来确认华南大区信息安全管理体系和技术体系现状，全面正确的总结华南大区公司信息安全现状;

2)整体安全规划:通过前期的现状调研和安全能力成熟度评估,确立华南大区信息安全建设的目的和方向，并建立相关制度体系和技术体系规划方案，明确后续阶段路线图和任务优先级;

3)方案设计:通过前期调研评估和安全规划，设计相应方案,并验证规划方案的落地性，度量实际运作偏差，保障安全体系的正常运作和落地保障，交付本次信息安全咨询项目建设的成果。

#### 项目主体范围

1)业务系统涉及**现有的内网和外网所有提供访问的服务应用系统、中间件及APP等，共计6个;

2)涉及的内外访问网站业务共计10个;

3)华南大区涉及的安全服务区域地点(广东2个、广西2个、海南1个、福建2个);

4)网络设备及安全管理平台涉及防火墙、交换机、SSL VPN、负载均衡、上网行为管理设备等;

### 举例-项目人员及组织结构

![image-20230711071457763](https://img.gyxnb.top/img/image-20230711071457763.png)

### 举例-配合工作以及注意事项

![image-20230711071621518](https://img.gyxnb.top/img/image-20230711071621518.png)

#### 注意事项

1. 1、安全测试需要规避业务高峰
2. 2、安全测试可能会影响业务
3. 3、高危漏洞没修补可能导致内网蠕虫干扰.

说明:注意事项建议形成清单

### 举例一启动会会议纪要(形成书面纪要，发送相关干系人)

![image-20230711071926959](https://img.gyxnb.top/img/image-20230711071926959.png)

### 交付物

![image-20230711081640252](https://img.gyxnb.top/img/image-20230711081640252.png)

![image-20230711082138550](https://img.gyxnb.top/img/image-20230711082138550.png)



## 3、项目实施



## 4、项目验收

### 为什么要做项目汇报

1、向领导同步项目工作结果

2、呈现服务效果获得相关方认可

3、获得项目验收

4、增加客户粘性

5、挖掘产品及服务商机(带货)

### 项目汇报

#### 汇报关键构成

➢项目背景[参考项目启动]

- ​	— 需求背景(存在问题)
- ​	— 服务合同内容等

➢项目交付成果[重点]

- ​	— 项目整体开展情况
- ​	— 交付价值呈现(发现多少问题，解决了什么问题，寻找问题根因)
- ​	— 最终产出交付物(日报、周报、月报、文档等)
- ​	— 我方投入情况(工作量呈现)

➢问题清单以及应对建议[商机来源]

➢项目验收时间以及方式

### 举例一-服务项目整体开展情况回顾

![image-20230711131609258](https://img.gyxnb.top/img/image-20230711131609258.png)

大概说明每个阶段的工作内容以及完成情况上述是综合型安服项目汇报的材料，供参考

### 举例一服务交付效果(漏扫效果展示)

![image-20230711131905865](https://img.gyxnb.top/img/image-20230711131905865.png)

### 举例一最终产出交付物

![image-20230711132214004](https://img.gyxnb.top/img/image-20230711132214004.png)

### 举例一我方工作投入情况

![image-20230711132341048](https://img.gyxnb.top/img/image-20230711132341048.png)

展现服务工作量，说明投入度，体现对项目重视

### 举例一问题清单以及应对建议

![image-20230711132901670](https://img.gyxnb.top/img/image-20230711132901670.png)

问题清单中问题尽量**都要**有解决方案

可以选一个领导重点感兴趣的点展开

### 验收要求——根据实际情况开展，汇报阶段需要领导再次确认验收方式及时间

![image-20230711133950837](https://img.gyxnb.top/img/image-20230711133950837.png)

不一定所有客户都要求严格验收，甚至很多客户无验收动作,但是作为服务方需要按照合同和客户意见做好严格验收准备!

## 5、风险评估案例

### 1、背景及会议目标

#### 背景

2021年，在全球长期处于领先地位的宇宙投资集团股份有限公司(以下简称:宇宙资本)投资交易系统.遭受了来自黑客组织的攻击，造成大量数据泄密，直接损失高达239亿美元，为此，宇宙资本的技术管理团队决定对核心交易系统进行全面的安全风险评估，为后期安全加固提供依据。

#### 项目启动会议的目标

1. 1.确认项目各环节需要支持的人员。
2. 2.确立安全体检需要达到的预期效果.
3. 3.确定安全体检评估范围。
4. 4.确定开展弱口令探测。
5. 5.告知客户安全体检可能面临的风险。
6. 6.确立项目启动时间。

#### 项目目标

◆调研评估:通过文件审核，现场采访，重点业务系统技术评估，来确认宇宙集团信息安全管理体系和技术 体系现状，全面正确的总结宇宙集团信息安全现状

◆整体安全规划: 通过前期的现场调研和安全能力成熟度评估,确立宇宙集团信息安全建设的目的和方向,并建立相关制度体系和技术规划方案，明确后续阶段路线图和任务优先级

◆方案设计:通过前期调研和安全规划，设计相应方案,并验证规划方案的落地性,度量实际运作偏差,保
障安全体系的正常运作和落地保障，交付本次信息安全评估项目的成果





### 2、服务内容及计划

#### 服务范围

➢宇宙资本投资交易系统现有的内网和外网所提供访问的应用系统、中间件、数据库等

➢涉及的投资交易系统投资系统1个应用系统1个、数据库2个、web服务器1个

➢涉及的安全服务区域地点(深圳1个、华盛顿1个)

![image-20230711191934804](https://img.gyxnb.top/img/image-20230711191934804.png)

#### 服务内容

![image-20230711192249293](https://img.gyxnb.top/img/image-20230711192249293.png)

#### 项目组织架构

![image-20230711192422951](https://img.gyxnb.top/img/image-20230711192422951.png)

项目组织架构-成员名单(续)

![image-20230711192610165](https://img.gyxnb.top/img/image-20230711192610165.png)

#### 评估依据

深信服科技提供的风险评估服务将参考下列法律法规和标准规范。

1. 1)《中华人民共和国网络安全法》
2. 2)《国家网络与信息安全协调小组<关于开展信息安全风险评估工作的意见>》(国信办[2006]5号)
3. 3)《信息安全技术信息安全风险评估规范》(GB/T 20984-2007)
4. 4)《信息安全技术信息安全风险评估实施指南》(GB/T 31509-2015)
5. 5)《信息安全技术信息安全事件分类分级指南》(GB/Z 20986-2007)
6. 6)《计算机场地通用规范》(GB/T 2887-2011)
7. 7)《信息技术安全技术信息安全控制实践指南》(GB/T 2208 1-2016)
8. 8)《信息技术安全技术信息安全风险管理》(GB/T 31722-2015)
9. 9)《信息安全技术数据库管理系统安全技术要求》(GB/T 20273-2019)
10. 10)《信息安全技术网络基础安全技术要求》(GB/T 20270-2006)
11. 11)《信息安全技术信息系统通用安全技术要求》(GB/T 20271-2006)
12. 12)《信息安全技术网络安全等级保护测评要求》(GB/T 28448-2019)
13. 13)《信息技术安全技术信息安全管理体系要求》(ISO/IEC 27001:2013)
14. 14)《信息技术安全技术信息安全风险管理》(ISO/IEC 27005:2018)
15. 15)《信息技术安全评估准则》(ISO/IEC 15408)

#### 实施流程

![image-20230711192942337](https://img.gyxnb.top/img/image-20230711192942337.png)

#### 实施计划详情

![image-20230711193044149](https://img.gyxnb.top/img/image-20230711193044149.png)

### 3、服务质量保障

#### ※风险告知※

在安全风险评估的实施过程中也会存在一定的风险,包括以下注意事项和常见风险:

- ●检测活动引入的风险
- ●进度风险
- ●人员风险

#### 项目风险管理

![image-20230711193540741](https://img.gyxnb.top/img/image-20230711193540741.png)

![image-20230711193633881](https://img.gyxnb.top/img/image-20230711193633881.png)

#### 加强项目沟通

●在本项目中，将采用一-些正规的项目沟通程序，保证参与项目的各方能够保持对项目的了解和支持。

●项目各组在项目过程中随时对相关问题进行沟通。所有重要的、有主题的日常沟通活动都留下记录或形成备忘录。日常沟通的主要渠道包括:非正式会议、阶段会议、电话、电子邮件、传真等。

●各类报告是项目各方互相沟通的最正式的渠道和证据。- -些必备的项目报告包括:项目计划和进展报告、项目总结报告、以及在各个阶段输出的项目成果文本等。

### 4、 安全服务能力

#### 风评服务特色

![image-20230711194217928](https://img.gyxnb.top/img/image-20230711194217928.png)

### 安全服务保障能力

![image-20230711194335067](https://img.gyxnb.top/img/image-20230711194335067.png)

#### 安全服务团队

**100人安全研究团队:**

攻防技术研究团队，长期跟踪国际、国内安全漏洞及趋势，基于研究发现快速赋能予企业安全产品

**210人安全服务专家团队:**

专注于安全服务平台工具开发、服务交付和服务运营。

**450人安全服务交付和应急团队:**

#### 业界顶级的安全资质

- ●CSA国际云安全联盟CS-CMMI5认证(云安全能力最高级别证书)
- ●微软安全响应中心发起的MAPP计划成员
- ●中国反网络病毒联盟ANVA成员单位
- ●国家信息安全漏洞共享平台(CNVD)技术组成员
- ●国家信息安全漏洞库(CNNVD)技术支 撑单位等级证书（二级)
- ●售后服务体系通过ISO9001认证
- ●CVE漏洞兼容性认证
- ●国家规划布局内重点软件企业
- ●国家级高新技术企业
- ●深圳市重点软件企业
- ●国家保密局涉密信息系统资质;
- ●国家商用密码产品生产定点单位
- ●信息技术产品安全测评证书
- ●信息安全创新产品奖---2017网络安全(中国)论坛
- ●云安全及大数据行业优秀解决方案奖
- ●VPN两项国家标准主导单位
- ●第二代防火墙标准核心起草单位



同时，深信服的安全服务能力也得到了国家单位的认可，不断收获相关资质证书:

- ●国家计算机网络应急技术处理协调中心网络安全应急服务支撑单位(国家级) -国内最高级
- ●中国信息安全认证中心信息安全服务资质证书(应急处理一级)-国内最高级
- ●中国信息安全认证中心信息安全服务资质证书(风险评估一级)-国内最高级
- ●国家信息安全测评中心信息安全服务资质证书(安全工程类一级)
- ●公安部第- -研究所信息安全等级保护安全建设服务机构能力评估合格证书.

#### 广受好评的服务质量

![image-20230711194832865](https://img.gyxnb.top/img/image-20230711194832865.png)

#### 深信服核心安全能力

![image-20230711194915827](https://img.gyxnb.top/img/image-20230711194915827.png)

## 5.2项目验收汇报案列

### 实施概况

![image-20230711195339714](https://img.gyxnb.top/img/image-20230711195339714.png)



### 现状评估问题总结

#### 资产漏洞风险

资产漏洞风险指的是资产(主机、设备、应用)存在的可被攻击者利用的安全漏洞的技术风险。本次评估识别出的系统漏洞汇总如下:

![image-20230711195540065](https://img.gyxnb.top/img/image-20230711195540065.png)

####  资产综合风险

综合风险维度(资产价值技术弱点值)，即同时考虑资产价值及其漏洞被利用后造成的损失大小。

![image-20230711195721248](https://img.gyxnb.top/img/image-20230711195721248.png)

#### 现场评估综述

1、智慧城市管理平台存在SQL注入高风险漏洞，恶意攻击者可通过此漏洞直接获取数据库数据;存在任意iP地址伪造、Apache ActiveMQ弱口令、用户注销功能不健全高风险漏洞，可导致该系统被非授权访问;

2、大数据治理平台存在跨站脚本攻击高风险漏洞，可能利用本漏洞窃取该网站访问者的隐私数据;

3、大数据汇聚平台系统V2.0版本存在跨站脚本攻击高风险漏洞，可能利用本漏洞窃取该网站访问者的隐私数据;

4、大数据服务平台缺少恶意代码防范措施，无法在病毒爆发时采取及时的应对措施。

5、大数据支撑平台存在任意文件下载高风险漏洞，可下载大量用户的隐私数据;

6、数据分析处理平台生产数据库服务器存在Oracle低版本漏洞，可能补丁更新不及时，导致漏洞被利用;

7、Al短信平台应用服务器口令策略均配置不规范，可导致密码轻易被暴力破解;

8、融合通信平台主用服务器存在SSL/TLS受诫礼攻击漏洞，若采用弱的加密机制，可导致密钥被窃取。

#### 问题剖析-1

![image-20230711200037019](https://img.gyxnb.top/img/image-20230711200037019.png)



### 改进实施路线.

#### 业界常见系统漏洞防护思路

![image-20230711200418745](https://img.gyxnb.top/img/image-20230711200418745.png)

#### 网络侧防护一下一 代防火墙虚拟补丁技术

![image-20230711200702591](https://img.gyxnb.top/img/image-20230711200702591.png)

### 评估过程说明

#### 业务系统评估范围确认

![image-20230711200849283](https://img.gyxnb.top/img/image-20230711200849283.png)

#### 系统风险评估

![image-20230711200935337](https://img.gyxnb.top/img/image-20230711200935337.png)

#### 资产潜在风险端口

本次安全风险评估服务，我们对贵单位在线的系统和设备其典型的开放端口(服务)进行了评估，结果如下图。识别出- -些常见的服务端口存在的风险，如23端口(Telnet明文) 、21端口(FTP明文登录、文件共享)、80端口(不必要的站点)等。对不必要的服务及端口，应给予关闭。

![image-20230711201151300](https://img.gyxnb.top/img/image-20230711201151300.png)

